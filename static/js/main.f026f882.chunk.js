(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{27:function(e,t,n){e.exports=n(39)},37:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(10),o=n.n(c),u=n(5),l=n(24),s=n(4),i=n(25),d=n(7),m=n(21),E=n(22),b=function(e){return{type:"SET_ORDER",order:e}},f=function(e){return e.sortField},p=function(e){return e.order},O=Object(E.a)([function(e){return e.todos},f,p],(function(e,t,n){var r=Object(i.a)(e);switch(console.log(n),t){case"id":r.sort((function(e,t){return e.id-t.id}));break;case"title":r.sort((function(e,n){return e[t].localeCompare(n[t])}));break;case"status":r.sort((function(e,t){return+e.completed-+t.completed}));break;case"username":r.sort((function(e,t){return e.user&&t.user?e.user.username.localeCompare(t.user.username):0}))}return"DES"===n&&r.reverse(),r})),j={todos:[],sortField:"id",order:""},h=Object(d.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SORT_FIELD":return Object(s.a)(Object(s.a)({},e),{},{sortField:t.sortField});case"SET_TODOS":return Object(s.a)(Object(s.a)({},e),{},{todos:t.todos});case"SET_ORDER":return Object(s.a)(Object(s.a)({},e),{},{order:t.order});case"DELETE_ITEM":return Object(s.a)(Object(s.a)({},e),{},{todos:e.todos.filter((function(e){return e.id!==t.deleteItem}))});default:return e}}),Object(m.composeWithDevTools)()),y=n(15),S=n.n(y),v=n(26),T=n(23),k="https://mate-academy.github.io/react_dynamic-list-of-todos/api",D="".concat(k,"/todos.json"),_="".concat(k,"/users.json"),C=function(){var e=Object(T.a)(S.a.mark((function e(){var t,n,r,a,c,o;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Promise,e.next=3,fetch("".concat(D));case 3:return e.t1=e.sent,e.next=6,fetch("".concat(_));case 6:return e.t2=e.sent,e.t3=[e.t1,e.t2],e.next=10,e.t0.all.call(e.t0,e.t3);case 10:return t=e.sent,n=Object(v.a)(t,2),r=n[0],a=n[1],e.next=16,r.json();case 16:return c=e.sent,e.next=19,a.json();case 19:return o=e.sent,e.abrupt("return",c.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{user:o.find((function(t){return e.userId===t.id}))})})));case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=(n(37),function(){var e=Object(u.b)(),t=Object(u.c)(O),n=Object(u.c)(p),r=Object(u.c)(f),c=function(t){""===n||"DES"===n?e(b("ASC")):"ASC"===n&&e(b("DES")),r!==t&&e(b("ASC")),e(function(e){return{type:"SET_SORT_FIELD",sortField:e}}(t))};return a.a.createElement("div",{className:"App"},t.length?a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",null,"Redux list of todos"),a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,a.a.createElement("button",{type:"button",onClick:function(){return c("id")}},"Sort by id")),a.a.createElement("th",null,a.a.createElement("button",{type:"button",onClick:function(){return c("username")}},"Sort by name")),a.a.createElement("th",null,a.a.createElement("button",{type:"button",onClick:function(){return c("title")}},"Sort by title")),a.a.createElement("th",null,a.a.createElement("button",{type:"button",onClick:function(){return c("status")}},"Sort by status")),a.a.createElement("th",null,"Delete"))),a.a.createElement("tbody",null,t.map((function(t){var n;return a.a.createElement("tr",{key:t.id},a.a.createElement("td",null,t.id),a.a.createElement("td",null,null===(n=t.user)||void 0===n?void 0:n.username),a.a.createElement("td",null,t.title),a.a.createElement("td",null,t.completed?"Completed":"Active"),a.a.createElement("td",null,a.a.createElement("button",{type:"button",onClick:function(){return e({type:"DELETE_ITEM",deleteItem:t.id})}},"X")))}))))):a.a.createElement("button",{type:"button",onClick:function(){return C().then((function(t){return e({type:"SET_TODOS",todos:t})}))}},"Load"))}),F=function(){return a.a.createElement(u.a,{store:h},a.a.createElement(l.a,null,a.a.createElement(x,null)))};o.a.render(a.a.createElement(F,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.f026f882.chunk.js.map